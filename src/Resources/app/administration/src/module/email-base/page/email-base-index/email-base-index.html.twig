<sw-page class="email-base-index">
    <template slot="smart-bar-actions">
        <sw-button variant="ghost" :routerLink="{ name: 'email.base.send' }">
            Email an Kunden senden
        </sw-button>
    </template>

    <template slot="content">
        <sw-entity-listing
            :columns="emailColumns"
            :repository="emailRepository"
            :items="emails"
            :allowColumnEdit="false"
            :showSettings="false"
            :showSelection="false"
            :fullPage="false"
            :isLoading="!emails">

            <template slot="column-bodyPlain" slot-scope="{ item }">
                {{ item.bodyPlain | truncate(100, "...")  }}
            </template>

            <template slot="column-createdAt" slot-scope="{ item }">
                {{ item.createdAt|date({hour: "2-digit", minute: "2-digit", second: "2-digit"}) }}
            </template>
        </sw-entity-listing>
    </template>
</sw-page>
